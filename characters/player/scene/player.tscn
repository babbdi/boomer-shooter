[gd_scene load_steps=6 format=3 uid="uid://bk8lvlxjxkt2d"]

[ext_resource type="Script" uid="uid://lbedbhvtj8uf" path="res://characters/player/scene/player.gd" id="1_a4aai"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_ie77o"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_ie77o"]

[sub_resource type="SphereShape3D" id="SphereShape3D_a4aai"]
radius = 0.4

[sub_resource type="CapsuleMesh" id="CapsuleMesh_a4aai"]
radius = 0.125
height = 0.25

[node name="player" type="CharacterBody3D" node_paths=PackedStringArray("head", "camera", "rc_stairAhead", "rc_stairBelow")]
platform_on_leave = 2
script = ExtResource("1_a4aai")
head = NodePath("headOriginalPosition/cameraSmooth/head")
camera = NodePath("headOriginalPosition/cameraSmooth/head/Camera3D")
rc_stairAhead = NodePath("rc_stairAhead")
rc_stairBelow = NodePath("rc_stairBelow")

[node name="cs_player" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_ie77o")

[node name="mesh_player" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
mesh = SubResource("CapsuleMesh_ie77o")

[node name="headOriginalPosition" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.7, 0)

[node name="cameraSmooth" type="Node3D" parent="headOriginalPosition"]
unique_name_in_owner = true

[node name="head" type="Node3D" parent="headOriginalPosition/cameraSmooth"]

[node name="Camera3D" type="Camera3D" parent="headOriginalPosition/cameraSmooth/head"]

[node name="sc_interactable" type="ShapeCast3D" parent="headOriginalPosition/cameraSmooth/head/Camera3D"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.1)
shape = SubResource("SphereShape3D_a4aai")
target_position = Vector3(0, 0, 0)
max_results = 2
collision_mask = 17
collide_with_areas = true

[node name="LookAtModifier3D" type="LookAtModifier3D" parent="headOriginalPosition"]

[node name="rc_stairAhead" type="RayCast3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(0.998567, -0.0535211, 0, 0.0535211, 0.998567, 0, 0, 0, 1, 0, 0.842036, -1.15848)
target_position = Vector3(0, -0.55, 0)

[node name="rc_stairBelow" type="RayCast3D" parent="."]
unique_name_in_owner = true

[node name="camera_tilt" type="Node3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.7, -1.4)
visible = false

[node name="lil_ball" type="MeshInstance3D" parent="camera_tilt"]
mesh = SubResource("CapsuleMesh_a4aai")
